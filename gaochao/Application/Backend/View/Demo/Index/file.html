<extend name="Public/body" />
<block name="script">
<js href="__PLUGIN__/ueditor/third-party/SyntaxHighlighter/shCore.js" />
<css href="__PLUGIN__/ueditor/third-party/SyntaxHighlighter/shCoreDefault.css" />
</block>
<block name="body">
	<!-- Content Header (Page header) -->
	<section class="content-header">
		<h1>
			文件上传使用说明
		</h1>
		<ol class="breadcrumb">
			<li><a href="<?=U('/Backend')?>"><i class="iconfont">&#xe678;</i> 首页</a></li>
			<li class="active">文件上传使用说明</li>
		</ol>
	</section>

	<!-- Main content -->
	<section class="content">
		<div class="box">
			<div class="box-body">
				<p>对上传插件进行配置并引入</p>
				<div class="code syntaxhighlighter  php"><div class="line number1 index0 alt2"><code class="php plain">&lt;?php</code></div><div class="line number2 index1 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$config</code>&nbsp;<code class="php plain">=&nbsp;</code><code class="php keyword">array</code>&nbsp;<code class="php plain">(</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'index'</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;1,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在当前页面中，调用的第几个文件上传插件，默认为1，同一个页面中index值不能重复，不管是上传文件还是上传图片</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'table'</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">''</code><code class="php plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">//&nbsp;数据保存在哪张表，此项必填</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'table_id'</code>&nbsp; <code class="php plain">=&gt;</code><code class="php string">'id'</code><code class="php plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">//&nbsp;数据所在表的主键，默认为id</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'name'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">''</code><code class="php plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">//&nbsp;此配置项主要用于设置表单提交时的name，非特殊情况下可以和val_key的配置值保持一致</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'multi'</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">'false'</code><code class="php plain">,&nbsp;&nbsp; </code><code class="php comments">//&nbsp;是否允许多文件上传，允许为true（前后需要添加引号），不允许为false（默认）</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'val_key'</code>&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">'save_path'</code>&nbsp;&nbsp;&nbsp; <code class="php comments">//&nbsp;存储在数据表中的字段</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">);</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code>&nbsp;<code class="php plain">W(</code><code class="php string">"Common/File/index"</code><code class="php plain">,</code><code class="php keyword">array</code><code class="php plain">(</code><code class="php variable">$config</code><code class="php plain">,</code><code class="php variable">$_v</code><code class="php plain">[</code><code class="php string">'id'</code><code class="php plain">]));</code></div><div class="line number12 index11 alt1"><code class="php plain">?&gt;</code></div></div>




				<p style="margin-top:50px;">
					图片上传，第一步与上面一样
				</p>
				<p>第二步、对上传插件进行配置并引入</p>
				<div class="code syntaxhighlighter  php"><div class="line number1 index0 alt2"><code class="php plain">&lt;?php</code></div><div class="line number2 index1 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$config</code>&nbsp;<code class="php plain">=&nbsp;</code><code class="php keyword">array</code>&nbsp;<code class="php plain">(</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'index'</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;1,&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在当前页面中，调用的第几个文件上传插件，默认为1，同一个页面中index值不能重复，不管是上传文件还是上传图片</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'table'</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">''</code><code class="php plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">//&nbsp;数据保存在哪张表，此项必填</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'table_id'</code>&nbsp; <code class="php plain">=&gt;</code><code class="php string">'id'</code><code class="php plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">//&nbsp;数据所在表的主键，默认为id</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'name'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">''</code><code class="php plain">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="php comments">//&nbsp;此配置项主要用于设置表单提交时的name，非特殊情况下可以和val_key的配置值保持一致</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'multi'</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">'false'</code><code class="php plain">,&nbsp;&nbsp; </code><code class="php comments">//&nbsp;是否允许多文件上传，允许为true（前后需要添加引号），不允许为false（默认）</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'val_key'</code>&nbsp;&nbsp; <code class="php plain">=&gt;</code><code class="php string">'image'</code>&nbsp;&nbsp;&nbsp; <code class="php comments">//&nbsp;存储在数据表中的字段</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">);</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code>&nbsp;<code class="php plain">W(</code><code class="php string">"Common/Img/index"</code><code class="php plain">,</code><code class="php keyword">array</code><code class="php plain">(</code><code class="php variable">$config</code><code class="php plain">,</code><code class="php variable">$_v</code><code class="php plain">[</code><code class="php string">'id'</code><code class="php plain">]));</code></div><div class="line number12 index11 alt1"><code class="php plain">?&gt;</code></div></div>
			</div>
			<div class="box box-body">
				<h4>单图上传</h4>
				<?php
					$config = array(
					    'index'     =>1,         // 在当前页面中，调用的第几个文件上传插件，默认为1，同一个页面中index值不能重复，不管是上传文件还是上传图片
					    'table'     =>'news', // 数据保存在哪张表，此项必填
					    'table_id'  =>'id',      // 数据所在表的主键，默认为id
					    'name'      =>'cover',   // 此配置项主要用于设置表单提交时的name，非特殊情况下可以和val_key的配置值保持一致
					    'multi'     =>'false',   // 是否允许多文件上传，允许为true（前后需要添加引号），不允许为false（默认）
					    'val_key'   =>'cover'    // 存储在数据表中的字段
					);
					echo W("Common/Img/index",array($config,$info['id']));
				?>

				<h4>多图上传</h4>
				<?php
					$config = array(
					    'index'     =>2,         // 在当前页面中，调用的第几个文件上传插件，默认为1，同一个页面中index值不能重复，不管是上传文件还是上传图片
					    'table'     =>'news', // 数据保存在哪张表，此项必填
					    'table_id'  =>'id',      // 数据所在表的主键，默认为id
					    'name'      =>'cover',   // 此配置项主要用于设置表单提交时的name，非特殊情况下可以和val_key的配置值保持一致
					    'multi'     =>'true',    // 是否允许多文件上传，允许为true（前后需要添加引号），不允许为false（默认）
					    'val_key'   =>'cover'    // 存储在数据表中的字段
					);
					echo W("Common/Img/index",array($config,$info['id']));
				?>

				<h4>文件上传</h4>
				<?php
					$config = array(
					    'index'     =>3,         // 在当前页面中，调用的第几个文件上传插件，默认为1，同一个页面中index值不能重复，不管是上传文件还是上传图片
					    'table'     =>'news', // 数据保存在哪张表，此项必填
					    'table_id'  =>'id',      // 数据所在表的主键，默认为id
					    'name'      =>'cover',   // 此配置项主要用于设置表单提交时的name，非特殊情况下可以和val_key的配置值保持一致
					    'multi'     =>'true',    // 是否允许多文件上传，允许为true（前后需要添加引号），不允许为false（默认）
					    'val_key'   =>'cover'    // 存储在数据表中的字段
					);
					echo W("Common/File/index",array($config,$info['id']));
				?>
			</div>
		</div>
	</section>
</block>